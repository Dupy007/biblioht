import{_ as m,o,c as a,a as e,e as i,f as u,g as h,b as p,v as b,F as f,r as v,t as l,h as y}from"./app-7be19962.js";const g={name:"Users",data(){return{users:[],search:""}},mounted(){this.getUsers()},methods:{async getUsers(){await axios.get("/plf/user").then(s=>{this.users=s.data}).catch(s=>{console.log(s),this.users=[]})},deleteuser(s){confirm("Are you sure to delete this user ?")&&axios.delete("/plf/user/"+s).then(n=>{this.getUsers()}).catch(n=>{console.log(n)})}},computed:{filtered(){return this.users.filter(s=>s.name.toLowerCase().indexOf(this.search.toLowerCase())!=-1)}}},x={class:"row"},k={class:"col-12 mb-2 text-end"},C={class:"col-12"},U={class:"card"},w={class:"card-header"},D=e("h4",null,"User",-1),N={class:"form-outline mb-4"},E={class:"card-body"},L={class:"table-responsive"},V={class:"table table-bordered"},A=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Mobile"),e("th",null,"Email"),e("th",null,"Code"),e("th",null,"Code Parrain"),e("th",null,"Type"),e("th",null,"Departement"),e("th",null,"Actions")])],-1),B={key:0},F=["onClick"],T={key:1},M=e("tr",null,[e("td",{colspan:"7",align:"center"},"No Users Found.")],-1),S=[M];function I(s,n,O,P,r,d){const c=y("router-link");return o(),a("div",x,[e("div",k,[i(c,{to:{name:"userAdd"},class:"btn btn-primary"},{default:u(()=>[h("Create")]),_:1})]),e("div",C,[e("div",U,[e("div",w,[D,e("div",N,[p(e("input",{type:"text",class:"form-control",id:"datatable-search-input","onUpdate:modelValue":n[0]||(n[0]=t=>r.search=t),placeholder:"Search"},null,512),[[b,r.search]])])]),e("div",E,[e("div",L,[e("table",V,[A,r.users.length>0?(o(),a("tbody",B,[(o(!0),a(f,null,v(d.filtered,(t,_)=>(o(),a("tr",{key:_},[e("td",null,l(t.id),1),e("td",null,l(t.name),1),e("td",null,l(t.mobile_no),1),e("td",null,l(t.email),1),e("td",null,l(t.code),1),e("td",null,l(t.parrain),1),e("td",null,l(t.type_account),1),e("td",null,l(t.departement),1),e("td",null,[i(c,{to:{name:"userEdit",params:{id:t.id}},class:"btn btn-success"},{default:u(()=>[h("Edit")]),_:2},1032,["to"]),e("button",{type:"button",onClick:j=>d.deleteuser(t.id),class:"btn btn-danger"},"Delete",8,F)])]))),128))])):(o(),a("tbody",T,S))])])])])])])}const z=m(g,[["render",I]]);export{z as default};
