import{_ as b,o as l,c as n,a as e,F as p,r as m,t as _,d as f,b as i,v as u,i as v}from"./app-7be19962.js";const y={name:"update-user",data(){return{user:{name:"",mobile_no:"",email:"",code:"",parrain:"",type_account:"",departement:"",_method:"patch"},errors:[],codeparrain:null,departements:["Artibonite","Centre","Grand'Anse","Nippes","Nord","Nord-Est","Nord-Ouest","Ouest","Sud","Sud-Est","Autre"]}},mounted(){this.showuser()},methods:{async showuser(){await axios.get("/plf/user/"+this.$route.params.id).then(r=>{const{name:s,mobile_no:a,email:d,code:t,type_account:c,parrain:o,departement:h}=r.data;this.user.name=s,this.user.mobile_no=a,this.user.email=d,this.user.code=t,this.user.parrain=this.codeparrain=o,this.user.type_account=c,this.user.departement=h}).catch(r=>{console.log(r)})},async update(){await axios.post("/plf/user/"+this.$route.params.id,this.user).then(r=>{this.$router.push({name:"userList"})}).catch(r=>{var s=[];s=r.response.data.errors;for(const a in s)if(Object.hasOwnProperty.call(s,a)){const d=s[a];this.errors.push(d[0])}console.log(r)})},checkForm:function(r){this.user.name&&this.user.email&&this.update(),this.errors=[],this.user.name||this.errors.push("Name required."),this.user.email||this.errors.push("Email required."),this.user.mobile_no||this.errors.push("Mobile required."),r.preventDefault()}}},g={class:"row"},x={class:"col-12"},U={class:"card"},V=e("div",{class:"card-header"},[e("h4",null,"Update User")],-1),k={class:"card-body"},w={class:"row"},N={key:0,class:"bg-danger"},E=e("b",null,"Please correct the following error(s):",-1),F={class:"col-12 mb-2"},S={class:"form-group"},C=e("label",null,"Name",-1),D={class:"col-12 mb-2"},M={class:"form-group"},O=e("label",null,"Mobile",-1),q={class:"col-12 mb-2"},A={class:"form-group"},B=e("label",null,"Email",-1),P={class:"col-12 mb-2"},L={class:"form-group"},T=e("label",null,"Code",-1),j={class:"col-12 mb-2"},G={class:"form-group"},z=e("label",null,"Type",-1),H={class:"col-12 mb-2"},I={class:"form-group"},J=e("label",null,"Code Parrain",-1),K={key:0},Q={key:1},R={class:"col-12 mb-2"},W={class:"form-group"},X=e("label",null,"Departement",-1),Y=["value"],Z=e("div",{class:"col-12 mb-2"},[e("button",{type:"submit",class:"btn btn-primary"},"Update")],-1);function $(r,s,a,d,t,c){return l(),n("div",g,[e("div",x,[e("div",U,[V,e("div",k,[e("form",{onSubmit:s[8]||(s[8]=(...o)=>c.checkForm&&c.checkForm(...o))},[e("div",w,[t.errors.length?(l(),n("p",N,[E,e("ul",null,[(l(!0),n(p,null,m(t.errors,o=>(l(),n("li",null,_(o),1))),256))])])):f("",!0),e("div",F,[e("div",S,[C,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.name=o)},null,512),[[u,t.user.name]])])]),e("div",D,[e("div",M,[O,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.mobile_no=o)},null,512),[[u,t.user.mobile_no]])])]),e("div",q,[e("div",A,[B,i(e("input",{type:"mail",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.user.email=o)},null,512),[[u,t.user.email]])])]),e("div",P,[e("div",L,[T,i(e("input",{type:"text",class:"form-control",readonly:"","onUpdate:modelValue":s[3]||(s[3]=o=>t.user.code=o)},null,512),[[u,t.user.code]])])]),e("div",j,[e("div",G,[z,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.user.type_account=o)},null,512),[[u,t.user.type_account]])])]),e("div",H,[e("div",I,[J,t.codeparrain?(l(),n("div",K,[i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.user.parrain=o),readonly:""},null,512),[[u,t.user.parrain]])])):(l(),n("div",Q,[i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=o=>t.user.parrain=o)},null,512),[[u,t.user.parrain]])]))])]),e("div",R,[e("div",W,[X,i(e("select",{class:"form-control","onUpdate:modelValue":s[7]||(s[7]=o=>t.user.departement=o)},[(l(!0),n(p,null,m(t.departements,o=>(l(),n("option",{value:o},_(o),9,Y))),256))],512),[[v,t.user.departement]])])]),Z])],32)])])])])}const se=b(y,[["render",$]]);export{se as default};
