import{_ as h,o as i,c as n,a as e,F as p,r as m,t as _,d as y,b as l,v as d}from"./app-7be19962.js";const g={name:"update-category",data(){return{category:{name:"",valeur:"",description:"",_method:"patch"},errors:[]}},mounted(){this.showCategory()},methods:{async showCategory(){await axios.get("/plf/category/"+this.$route.params.id).then(o=>{const{name:t,valeur:a,description:c}=o.data;this.category.name=t,this.category.valeur=a,this.category.description=c}).catch(o=>{console.log(o)})},async update(){await axios.post("/plf/category/"+this.$route.params.id,this.category).then(o=>{this.$router.push({name:"categoryList"})}).catch(o=>{var t=[];t=o.response.data.errors;for(const a in t)if(Object.hasOwnProperty.call(t,a)){const c=t[a];this.errors.push(c[0])}console.log(o)})},checkForm:function(o){this.category.name&&this.category.valeur&&this.update(),this.errors=[],this.category.name||this.errors.push("Name required."),this.category.valeur||this.errors.push("Value required."),o.preventDefault()}}},v={class:"row"},f={class:"col-12"},b={class:"card"},w=e("div",{class:"card-header"},[e("h4",null,"Update Category")],-1),x={class:"card-body"},k={class:"row"},V={key:0},F=e("b",null,"Please correct the following error(s):",-1),U={class:"col-12 mb-2"},C={class:"form-group"},D=e("label",null,"Title",-1),B={class:"col-12 mb-2"},N={class:"form-group"},q=e("label",null,"Value",-1),E={class:"col-12 mb-2"},L={class:"form-group"},O=e("label",null,"Description",-1),P=e("div",{class:"col-12 mb-2"},[e("button",{type:"submit",class:"btn btn-primary"},"Update")],-1);function S(o,t,a,c,r,u){return i(),n("div",v,[e("div",f,[e("div",b,[w,e("div",x,[e("form",{onSubmit:t[3]||(t[3]=(...s)=>u.checkForm&&u.checkForm(...s))},[e("div",k,[r.errors.length?(i(),n("p",V,[F,e("ul",null,[(i(!0),n(p,null,m(r.errors,s=>(i(),n("li",null,_(s),1))),256))])])):y("",!0),e("div",U,[e("div",C,[D,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>r.category.name=s)},null,512),[[d,r.category.name]])])]),e("div",B,[e("div",N,[q,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>r.category.valeur=s)},null,512),[[d,r.category.valeur]])])]),e("div",E,[e("div",L,[O,l(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>r.category.description=s)},null,512),[[d,r.category.description]])])]),P])],32)])])])])}const j=h(g,[["render",S]]);export{j as default};
