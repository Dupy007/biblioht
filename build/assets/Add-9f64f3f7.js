import{_ as h,o as l,c as n,a as e,F as m,r as p,t as _,d as f,b as i,v as c,i as b}from"./app-7be19962.js";const v={name:"add-user",data(){return{user:{name:"",mobile_no:"",email:"",code:"",parrain:"",type_account:"user",password:"PLFMotDePasse",password_confirmation:"PLFMotDePasse",carte_identite:null,departement:""},errors:[],departements:["Artibonite","Centre","Grand'Anse","Nippes","Nord","Nord-Est","Nord-Ouest","Ouest","Sud","Sud-Est","Autre"]}},methods:{onFileChange(r){console.log(r.target.files[0]),this.user.carte_identite=r.target.files[0]},async create(){const r={headers:{"content-type":"multipart/form-data"}};await axios.post("/plf/user",this.user,r).then(s=>{this.$router.push({name:"userList"})}).catch(s=>{var a=[];a=s.response.data.errors;for(const d in a)if(Object.hasOwnProperty.call(a,d)){const t=a[d];this.errors.push(t[0])}console.log("error =>",s)})},checkForm:function(r){this.user.name&&this.user.email&&this.create(),this.errors=[],this.user.name||this.errors.push("Name required."),this.user.email||this.errors.push("Email required."),this.user.mobile_no||this.errors.push("Mobile required."),r.preventDefault()}}},g={class:"row"},y={class:"col-12"},F={class:"card"},x=e("div",{class:"card-header"},[e("h4",null,"Add User")],-1),w={class:"card-body"},C={class:"row"},N={key:0,class:"bg-danger"},V=e("b",null,"Please correct the following error(s):",-1),k={class:"col-12 mb-2"},U={class:"form-group"},D=e("label",null,"Name",-1),M={class:"col-12 mb-2"},P={class:"form-group"},S=e("label",null,"Mobile",-1),A={class:"col-12 mb-2"},E={class:"form-group"},L=e("label",null,"Email",-1),O={class:"col-12 mb-2"},q={class:"form-group"},B=e("label",null,"Type",-1),T={class:"col-12 mb-2"},j={class:"form-group"},G=e("label",null,"Code parrain",-1),z={class:"col-12 mb-2"},H={class:"form-group"},I=e("label",null,"Departement",-1),J=["value"],K={class:"col-12 mb-2"},Q={class:"form-group"},R=e("label",null,"Carte d'identitÃ©",-1),W=e("div",{class:"col-12 mb-2"},[e("button",{type:"submit",class:"btn btn-primary"},"Save")],-1);function X(r,s,a,d,t,u){return l(),n("div",g,[e("div",y,[e("div",F,[x,e("div",w,[e("form",{onSubmit:s[7]||(s[7]=(...o)=>u.checkForm&&u.checkForm(...o))},[e("div",C,[t.errors.length?(l(),n("p",N,[V,e("ul",null,[(l(!0),n(m,null,p(t.errors,o=>(l(),n("li",null,_(o),1))),256))])])):f("",!0),e("div",k,[e("div",U,[D,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.name=o)},null,512),[[c,t.user.name]])])]),e("div",M,[e("div",P,[S,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.mobile_no=o)},null,512),[[c,t.user.mobile_no]])])]),e("div",A,[e("div",E,[L,i(e("input",{type:"mail",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>t.user.email=o)},null,512),[[c,t.user.email]])])]),e("div",O,[e("div",q,[B,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[3]||(s[3]=o=>t.user.type_account=o)},null,512),[[c,t.user.type_account]])])]),e("div",T,[e("div",j,[G,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=o=>t.user.parrain=o)},null,512),[[c,t.user.parrain]])])]),e("div",z,[e("div",H,[I,i(e("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=o=>t.user.departement=o)},[(l(!0),n(m,null,p(t.departements,o=>(l(),n("option",{value:o},_(o),9,J))),256))],512),[[b,t.user.departement]])])]),e("div",K,[e("div",Q,[R,e("input",{type:"file",class:"form-control",onChange:s[6]||(s[6]=(...o)=>u.onFileChange&&u.onFileChange(...o)),accept:"image/*"},null,32)])]),W])],32)])])])])}const Z=h(v,[["render",X]]);export{Z as default};
