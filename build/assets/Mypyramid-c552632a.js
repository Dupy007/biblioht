import{_ as C,o as _,c as h,a as t,F as f,r as g,t as a,w as r,b as v,v as m,d as k}from"./app-7be19962.js";const b={name:"mypyramid",data(){return{userpyramids:[],ismine:!1,isend:!1,iscomplete:!1,pyramid_id:null,auth:null}},mounted(){this.getUserpyramids(),this.auth=JSON.parse(localStorage.auth)},methods:{async nextpyramid(){await axios.get("/plf/nextpyramid/"+this.auth.id).then(e=>{console.log(e),alert(e.data.message)}).catch(e=>{console.log(e),this.userpyramids=[]})},async endpyramid(){await axios.get("/plf/endpyramid/"+this.pyramid_id).then(e=>{console.log(e)}).catch(e=>{console.log(e),this.userpyramids=[]})},async getUserpyramids(){await axios.get("/plf/mypyramid").then(e=>{this.userpyramids=e.data.userpyramids,this.ismine=e.data.ismine,this.isend=e.data.isend,this.iscomplete=e.data.iscomplete}).catch(e=>{console.log(e),this.userpyramids=[]})},thecategoryname(e){var i="";for(const c in e){i=e[c].category_name;break}return i},thepyramidid(e){var i="";for(const c in e){i=e[c].pyramid_id;break}return this.pyramid_id=i,i},theposition(e,i){var c="";for(const d in e)i==e[d].position&&(c=e[d].user_name);return c},myalert(e,i){var c="Name : ";for(const d in e)i==e[d].position&&(c+=e[d].user_name,c+=`
Phone : `,c+=e[d].user_mobile_no);alert(c)},created_at(e){var i="";for(const c in e){i=e[c].created_at;break}return this.getdate(i)},expire_at(e){var i="";for(const c in e){i=e[c].expire_at;break}return this.getdate(i)},getdate(e){if(e){var i=new Date(e);return i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear()}}}},p={class:"container"},x={class:"row justify-content-center"},u={class:"col-md-12"},w={class:"card"},D=t("div",{class:"card-header"},"Dashboard",-1),S={class:"card-body"},M={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},N={class:"col"},U={class:"card shadow-sm"},V={class:"position-relative"},B={class:"position-absolute top-0 start-0 text-danger"},F={class:"position-absolute top-0 end-0 text-danger"},j={class:"position-relative mt-3"},E={class:"top-50 start-0"},G={class:"box"},J={class:"tra m"},L=["onClick"],O={class:"tra n"},P=["onClick"],T={class:"tra m"},Y=["onClick"],q={class:"tra n"},z=["onClick"],A={class:"center-2"},H={class:"tritra"},I=["onClick"],K={class:"tritra"},Q=["onClick"],R={class:"center"},W={class:"tri"},X=["onClick"],Z={class:"cer"},$=["onClick"],tt={class:"tri"},et=["onClick"],st={class:"tritra"},ot=["onClick"],it={class:"tritra"},nt=["onClick"],at={class:"tra n"},ct=["onClick"],lt={class:"tra m"},dt=["onClick"],_t={class:"tra n"},ht=["onClick"],rt={class:"tra m"},vt=["onClick"],mt={class:"position-relative mt-4"},kt={class:"position-absolute bottom-0 start-0 text-danger"},yt={class:"position-absolute bottom-0 end-0 text-danger"},Ct=t("div",{class:"col-12 mb-2"},[t("button",{type:"submit",class:"btn btn-primary"},"Confirm the end of the pyramid")],-1),ft=t("div",{class:"col-12 mb-2"},[t("button",{type:"submit",class:"btn btn-primary"},"Go to next level pyramid")],-1);function gt(e,i,c,d,l,s){return _(),h("div",p,[t("div",x,[t("div",u,[t("div",w,[D,t("div",S,[(_(!0),h(f,null,g(l.userpyramids,(o,y)=>(_(),h("div",{key:y},[t("div",M,[t("div",N,[t("div",U,[t("div",null,[t("div",V,[t("div",B,a(s.thecategoryname(o)),1),t("div",F," #"+a(s.thepyramidid(o)),1)]),t("div",j,[t("div",E,[t("div",G,[t("div",J,[t("span",{onClick:n=>s.myalert(o,8)},a(s.theposition(o,8)),9,L)]),t("div",O,[t("span",{onClick:n=>s.myalert(o,9)},a(s.theposition(o,9)),9,P)]),t("div",T,[t("span",{onClick:n=>s.myalert(o,10)},a(s.theposition(o,10)),9,Y)]),t("div",q,[t("span",{onClick:n=>s.myalert(o,11)},a(s.theposition(o,11)),9,z)]),t("div",A,[t("div",H,[t("span",{onClick:n=>s.myalert(o,4)},a(s.theposition(o,4)),9,I)]),t("div",K,[t("span",{onClick:n=>s.myalert(o,5)},a(s.theposition(o,5)),9,Q)]),t("div",R,[t("div",W,[t("span",{onClick:n=>s.myalert(o,2)},a(s.theposition(o,2)),9,X)]),t("div",Z,[t("span",{onClick:n=>s.myalert(o,1)},a(s.theposition(o,1)),9,$)]),t("div",tt,[t("span",{onClick:n=>s.myalert(o,3)},a(s.theposition(o,3)),9,et)])]),t("div",st,[t("span",{onClick:n=>s.myalert(o,6)},a(s.theposition(o,6)),9,ot)]),t("div",it,[t("span",{onClick:n=>s.myalert(o,7)},a(s.theposition(o,7)),9,nt)])]),t("div",at,[t("span",{onClick:n=>s.myalert(o,12)},a(s.theposition(o,12)),9,ct)]),t("div",lt,[t("span",{onClick:n=>s.myalert(o,13)},a(s.theposition(o,13)),9,dt)]),t("div",_t,[t("span",{onClick:n=>s.myalert(o,14)},a(s.theposition(o,14)),9,ht)]),t("div",rt,[t("span",{onClick:n=>s.myalert(o,15)},a(s.theposition(o,15)),9,vt)])])])]),t("div",mt,[t("div",kt,a(s.created_at(o)),1),t("div",yt,a(s.expire_at(o)),1)])]),!l.isend&&l.iscomplete?(_(),h("form",{key:0,onSubmit:i[1]||(i[1]=r((...n)=>s.endpyramid&&s.endpyramid(...n),["prevent"]))},[v(t("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=n=>l.pyramid_id=n),hidden:""},null,512),[[m,l.pyramid_id]]),Ct],32)):k("",!0),l.isend?(_(),h("form",{key:1,onSubmit:i[3]||(i[3]=r((...n)=>s.nextpyramid&&s.nextpyramid(...n),["prevent"]))},[v(t("input",{type:"text",class:"form-control","onUpdate:modelValue":i[2]||(i[2]=n=>l.pyramid_id=n),hidden:""},null,512),[[m,l.pyramid_id]]),ft],32)):k("",!0)])])])]))),128))])])])])])}const pt=C(b,[["render",gt]]);export{pt as default};
